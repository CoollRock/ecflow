+ perf stat -r 10 bin/ecflow_client --port 3160 --load /var/tmp/ma0/BIG_DEFS/vsms2.31415.def check_only

 Performance counter stats for 'bin/ecflow_client --port 3160 --load /var/tmp/ma0/BIG_DEFS/vsms2.31415.def check_only' (10 runs):

       1484.115010      task-clock (msec)         #    0.999 CPUs utilized            ( +-  1.30% )
                 6      context-switches          #    0.004 K/sec                    ( +- 19.42% )
                 0      cpu-migrations            #    0.000 K/sec                    ( +- 66.67% )
           131,043      page-faults               #    0.088 M/sec                    ( +-  0.00% )
     5,665,640,012      cycles                    #    3.818 GHz                      ( +-  1.28% )
   <not supported>      stalled-cycles-frontend  
   <not supported>      stalled-cycles-backend   
    10,262,284,153      instructions              #    1.81  insns per cycle          ( +-  0.00% )
     2,907,263,229      branches                  # 1958.920 M/sec                    ( +-  0.01% )
        15,641,515      branch-misses             #    0.54% of all branches          ( +-  1.47% )

       1.485284358 seconds time elapsed                                          ( +-  1.30% )

       + bin/ecflow_client --port 3160 --load /var/tmp/ma0/BIG_DEFS/vsms2.31415.def
+ echo run strace
run strace
+ strace -c bin/ecflow_client --port 3160 --sync_full 0
% time     seconds  usecs/call     calls    errors syscall
------ ----------- ----------- --------- --------- ----------------
 35.05    0.018798           5      4041           brk
 33.53    0.017985         947        19           munmap
 27.41    0.014704          14      1084         1 recvmsg
  3.21    0.001723           2      1083           epoll_wait
  0.15    0.000080          13         6         2 connect
  0.14    0.000076           2        31           close
  0.08    0.000042           1        54           mmap
  0.08    0.000041           3        15           mremap
  0.06    0.000030           4         7           socket
  0.05    0.000029           1        20           read
  0.03    0.000018           1        33        14 open
  0.02    0.000013           2         6           epoll_ctl
  0.02    0.000012           2         5           poll
  0.02    0.000012           4         3           sendto
  0.02    0.000011           3         4           timerfd_settime
  0.02    0.000010          10         1           sendmsg
  0.01    0.000008           1         9         3 stat
  0.01    0.000008           1        16           fstat
  0.01    0.000007           2         4           futex
  0.01    0.000005           2         3           getsockname
  0.01    0.000004           2         2           getsockopt
  0.01    0.000003           2         2           ioctl
  0.01    0.000003           3         1           bind
  0.01    0.000003           3         1           timerfd_create
  0.01    0.000003           3         1           eventfd2
  0.01    0.000003           3         1           epoll_create1
  0.00    0.000002           2         1           write
  0.00    0.000002           1         2           getuid
  0.00    0.000001           1         1           lseek
  0.00    0.000001           1         1           uname
  0.00    0.000000           0        22           mprotect
  0.00    0.000000           0         2           rt_sigaction
  0.00    0.000000           0         1           rt_sigprocmask
  0.00    0.000000           0         2         2 access
  0.00    0.000000           0         1           execve
  0.00    0.000000           0         1           getrlimit
  0.00    0.000000           0         1           arch_prctl
  0.00    0.000000           0         1           set_tid_address
  0.00    0.000000           0         1           set_robust_list
------ ----------- ----------- --------- --------- ----------------
100.00    0.053637                  6489        22 total
+ echo run perf on sync_local
run perf on sync_local
+ perf stat -r 10 bin/ecflow_client --port 3160 --sync_full 0

 Performance counter stats for 'bin/ecflow_client --port 3160 --sync_full 0' (10 runs):

       1790.568052      task-clock (msec)         #    0.769 CPUs utilized            ( +-  0.31% )
               617      context-switches          #    0.344 K/sec                    ( +-  9.79% )
                 1      cpu-migrations            #    0.000 K/sec                    ( +- 21.82% )
           266,670      page-faults               #    0.149 M/sec                    ( +-  0.00% )
     6,830,316,850      cycles                    #    3.815 GHz                      ( +-  0.34% )
   <not supported>      stalled-cycles-frontend  
   <not supported>      stalled-cycles-backend   
    12,206,283,584      instructions              #    1.79  insns per cycle          ( +-  0.00% )
     3,198,288,194      branches                  # 1786.186 M/sec                    ( +-  0.00% )
        12,703,901      branch-misses             #    0.40% of all branches          ( +-  2.03% )

       2.327502570 seconds time elapsed                                          ( +-  0.24% )

       
+ ANode/parser/perf_aparser_only /var/tmp/ma0/BIG_DEFS/3199.def
real    0m0.93s
user    0m0.82s
sys     0m0.10s

+ ANode/parser/perf_aparser_only /var/tmp/ma0/BIG_DEFS/vsms2.31415.def
real    0m1.47s
user    0m1.28s
sys     0m0.18s

+ ANode/parser/perf_aparser_timer /var/tmp/ma0/BIG_DEFS/3199.def
 Parsing Node tree & AST creation time parse(1) = 0.824s wall, (0.740s user + 0.080s system = 0.820s) CPU (99.5%)
 Parsing Node tree *only* time         parse(1) = 0.626s wall, (0.540s user + 0.080s system = 0.620s) CPU (99.0%)
 Save and restore as string(DEFS)               = 0.991s wall, (0.890s user + 0.110s system = 1.000s) CPU (100.9%) -> string size(33231624)
 Save and restore as string(NET)                = 0.691s wall, (0.650s user + 0.040s system = 0.690s) CPU (99.9%) -> string size(33232282) checks relaxed
 Save and restore as string(MIGRATE)            = 0.683s wall, (0.670s user + 0.020s system = 0.690s) CPU (101.0%) -> string size(33232286)
 Save as DEFS checkpoint, time taken            = 0.108s wall, (0.100s user + 0.010s system = 0.110s) CPU (102.1%)
 Save as CEREAL checkpoint, time taken          = 1.337s wall, (1.330s user + 0.000s system = 1.330s) CPU (99.5%)
 Checkpt(DEFS) and reload, time taken           = 0.714s wall, (0.700s user + 0.010s system = 0.710s) CPU (99.4%) file_size(33235526)  result(1) msg()
 Checkpt(CEREAL) and reload , time taken        = 2.749s wall, (2.670s user + 0.080s system = 2.750s) CPU (100.1%) file_size(99379310)  result(1) msg()
 Test all paths can be found. time taken        = 0.333s wall, (0.330s user + 0.000s system = 0.330s) CPU (99.0%)
 time for 10 jobSubmissions                     = 0.271s wall, (0.270s user + 0.010s system = 0.280s) CPU (103.2%) jobs:4
 Time for Defs::check(inlimit resolution)       = 0.057s wall, (0.060s user + 0.000s system = 0.060s) CPU (105.6%) result(1)
 time for deleting all nodes                    = 0.268s wall, (0.270s user + 0.000s system = 0.270s) CPU (100.7%)
 10.053353s wall, 9.580000s user + 0.470000s system = 10.050000s CPU (100.0%)
 
+ ANode/parser/perf_aparser_timer /var/tmp/ma0/BIG_DEFS/vsms2.31415.def
 Parsing Node tree & AST creation time parse(1) = 1.255s wall, (1.110s user + 0.140s system = 1.250s) CPU (99.6%)
 Parsing Node tree *only* time         parse(1) = 1.245s wall, (1.140s user + 0.100s system = 1.240s) CPU (99.6%)
 Save and restore as string(DEFS)               = 1.535s wall, (1.380s user + 0.150s system = 1.530s) CPU (99.7%) -> string size(57634217)
 Save and restore as string(NET)                = 1.081s wall, (1.050s user + 0.030s system = 1.080s) CPU (99.9%) -> string size(68295827) checks relaxed
 Save and restore as string(MIGRATE)            = 1.213s wall, (1.160s user + 0.050s system = 1.210s) CPU (99.7%) -> string size(68295831)
 Save as DEFS checkpoint, time taken            = 0.310s wall, (0.270s user + 0.040s system = 0.310s) CPU (100.1%)
 Save as CEREAL checkpoint, time taken          = 2.708s wall, (2.710s user + 0.000s system = 2.710s) CPU (100.1%)
 Checkpt(DEFS) and reload, time taken           = 1.534s wall, (1.460s user + 0.070s system = 1.530s) CPU (99.8%) file_size(118606320)  result(1) msg()
 Checkpt(CEREAL) and reload , time taken        = 5.441s wall, (5.230s user + 0.210s system = 5.440s) CPU (100.0%) file_size(216055639)  result(1) msg()
 Test all paths can be found. time taken        = 0.547s wall, (0.550s user + 0.000s system = 0.550s) CPU (100.5%)
 time for 10 jobSubmissions                     = 0.097s wall, (0.100s user + 0.000s system = 0.100s) CPU (103.0%) jobs:0
 Time for Defs::check(inlimit resolution)       = 0.547s wall, (0.540s user + 0.000s system = 0.540s) CPU (98.8%) result(0)
 time for deleting all nodes                    = 0.380s wall, (0.370s user + 0.000s system = 0.370s) CPU (97.5%)
 18.683407s wall, 17.820000s user + 0.850000s system = 18.670000s CPU (99.9%)
 
+ Client/perf_test_large_defs
Running 1 test case...
Client:: ...test_perf_for_large_defs:   port(3160)

/var/tmp/ma0/BIG_DEFS/vsms2.31415.def  : file size 153539843
 Load:                3962ms
 Begin:               124ms
 Download(news_local):NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS : 1:news_local(),2:sync_local(),n:news_local with the new Client: 2447(ms)
 Download(Sync):      2100 35 0 0 0 0 0 0 0 0 :(milli-seconds) sync_local() with the same Client. First call updates cache.
 Download(Sync-FULL): 2188 2118 2099 2109 2097 2100 2093 2111 2095 2097 : Avg:2.1107(sec)  : sync_local() with *different* clients.uses cache!
 Download(FULL):      2570 2377 2241 2304 2248 2238 2269 2295 2233 2241 : Avg:2.3016(sec)  : get_defs() from different client
 Suspend 262323 tasks : 0.919   news_local() : 0   sync_local() : 3.133
 Resume 262323 tasks  : 0.923   news_local() : 0   sync_local() : 2.22
 Suspend 262323 tasks : 3.231 : auto-sync
 Resume 262323 tasks  : 3.255 : auto-sync
 check  262323 tasks  : 0.401   news_local() : 0.011   sync_local() : 0
 kill   262323 tasks  : 1.369   news_local() : 0.011   sync_local() : 0.012
 force  262323 tasks  : 1.866 force(aborted)   news_local() : 0.013   sync_local() : 5.982
 force  262323 tasks  : 7.948 : auto-sync :  force(queued)
 Check pt:            978 740 751 750 754 748 751 751 748 754 : Avg:0.7725(sec)
 client cmds:         2000 times 6827(ms) (sync_local) with same client (suspend,resume,force,alter,requeue)
 client cmds:         2000 times 5814(ms) (auto_sync ) with same client (suspend,resume,force,alter,requeue)
 Delete:              905ms

/var/tmp/ma0/BIG_DEFS/3199.def  : file size 59631577
 Load:                1933ms
 Begin:               339ms
 Download(news_local):NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS : 1:news_local(),2:sync_local(),n:news_local with the new Client: 1205(ms)
 Download(Sync):      1084 0 0 0 0 0 0 0 0 0 :(milli-seconds) sync_local() with the same Client. First call updates cache.
 Download(Sync-FULL): 1078 1081 1085 1078 1086 1080 1077 1080 1080 1096 : Avg:1.0821(sec)  : sync_local() with *different* clients.uses cache!
 Download(FULL):      1287 1295 1290 1274 1275 1276 1283 1309 1269 1289 : Avg:1.2847(sec)  : get_defs() from different client
 Suspend 215437 tasks : 0.642   news_local() : 0   sync_local() : 2.471
 Resume 215437 tasks  : 0.683   news_local() : 0   sync_local() : 1.677
 Suspend 215437 tasks : 2.525 : auto-sync
 Resume 215437 tasks  : 2.565 : auto-sync
 check  215437 tasks  : 0.669   news_local() : 0   sync_local() : 0
 kill   215437 tasks  : 0.434   news_local() : 0.01   sync_local() : 0
 force  215437 tasks  : 1.324 force(aborted)   news_local() : 0.008   sync_local() : 4.175
 force  215437 tasks  : 5.589 : auto-sync :  force(queued)
 Check pt:            557 413 351 348 350 348 351 366 344 341 : Avg:0.3769(sec)
 client cmds:         2000 times 7344(ms) (sync_local) with same client (suspend,resume,force,alter,requeue)
 client cmds:         2000 times 6230(ms) (auto_sync ) with same client (suspend,resume,force,alter,requeue)
 Delete:              457ms

/var/tmp/ma0/BIG_DEFS/od.def  : file size 11078737
Warning: TASK /lbc/perle/local/perle has a inlimit ../process:excl :The referenced FAMILY '/lbc/perle/process' does not define the limit excl

 Load:                528ms
 Begin:               61ms
 Download(news_local):NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS : 1:news_local(),2:sync_local(),n:news_local with the new Client: 246(ms)
 Download(Sync):      220 0 0 0 0 0 0 0 0 0 :(milli-seconds) sync_local() with the same Client. First call updates cache.
 Download(Sync-FULL): 222 221 220 219 223 223 221 223 221 219 : Avg:0.2212(sec)  : sync_local() with *different* clients.uses cache!
 Download(FULL):      261 259 261 259 261 262 261 261 261 261 : Avg:0.2607(sec)  : get_defs() from different client
 Suspend 43305 tasks : 0.114   news_local() : 0   sync_local() : 0.455
 Resume 43305 tasks  : 0.12   news_local() : 0   sync_local() : 0.315
 Suspend 43305 tasks : 0.457 : auto-sync
 Resume 43305 tasks  : 0.473 : auto-sync
 check  43305 tasks  : 0.202   news_local() : 0   sync_local() : 0
 kill   43305 tasks  : 0.077   news_local() : 0.002   sync_local() : 0
 force  43305 tasks  : 0.248 force(aborted)   news_local() : 0   sync_local() : 0.78
 force  43305 tasks  : 1.079 : auto-sync :  force(queued)
 Check pt:            91 70 56 54 55 55 55 57 56 56 : Avg:0.0605(sec)
 client cmds:         2000 times 4867(ms) (sync_local) with same client (suspend,resume,force,alter,requeue)
 client cmds:         2000 times 3890(ms) (auto_sync ) with same client (suspend,resume,force,alter,requeue)
 Delete:              81ms

/var/tmp/ma0/BIG_DEFS/mega.def  : file size 6721759
 Load:                327ms
 Begin:               37ms
 Download(news_local):NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS : 1:news_local(),2:sync_local(),n:news_local with the new Client: 151(ms)
 Download(Sync):      136 0 0 0 0 0 0 0 0 0 :(milli-seconds) sync_local() with the same Client. First call updates cache.
 Download(Sync-FULL): 143 134 133 133 134 133 136 134 133 133 : Avg:0.1346(sec)  : sync_local() with *different* clients.uses cache!
 Download(FULL):      160 162 161 159 159 161 160 159 158 158 : Avg:0.1597(sec)  : get_defs() from different client
 Suspend 27436 tasks : 0.071   news_local() : 0   sync_local() : 0.284
 Resume 27436 tasks  : 0.075   news_local() : 0   sync_local() : 0.197
 Suspend 27436 tasks : 0.287 : auto-sync
 Resume 27436 tasks  : 0.293 : auto-sync
 check  27436 tasks  : 0.109   news_local() : 0   sync_local() : 0
 kill   27436 tasks  : 0.05   news_local() : 0.001   sync_local() : 0
 force  27436 tasks  : 0.165 force(aborted)   news_local() : 0   sync_local() : 0.534
 force  27436 tasks  : 0.699 : auto-sync :  force(queued)
 Check pt:            47 35 34 34 36 34 35 36 34 34 : Avg:0.0359(sec)
 client cmds:         2000 times 3926(ms) (sync_local) with same client (suspend,resume,force,alter,requeue)
 client cmds:         2000 times 2972(ms) (auto_sync ) with same client (suspend,resume,force,alter,requeue)
 Delete:              51ms

/var/tmp/ma0/BIG_DEFS/empty.def  : file size 13
 Load:                0ms
 Begin:               0ms
 Download(news_local):NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS NO_NEWS : 1:news_local(),2:sync_local(),n:news_local with the new Client: 1(ms)
 Download(Sync):      0 0 0 0 0 0 0 0 0 0 :(milli-seconds) sync_local() with the same Client. First call updates cache.
 Download(Sync-FULL): 0 0 0 0 0 0 0 0 0 0 : Avg:0(sec)  : sync_local() with *different* clients.uses cache!
 Download(FULL):      0 0 0 0 0 0 0 0 0 0 : Avg:0(sec)  : get_defs() from different client
 Suspend 0 tasks : 0   news_local() : 0   sync_local() : 0
 Resume 0 tasks  : 0   news_local() : 0   sync_local() : 0
 Suspend 0 tasks : 0 : auto-sync
 Resume 0 tasks  : 0 : auto-sync
 check  0 tasks  : 0   news_local() : 0   sync_local() : 0
 kill   0 tasks  : 0   news_local() : 0   sync_local() : 0
 force  0 tasks  : 0 force(aborted)   news_local() : 0   sync_local() : 0
 force  0 tasks  : 0 : auto-sync :  force(queued)
 Check pt:            2 2 0 0 0 0 0 0 0 0 : Avg:0.0004(sec)
 client cmds:         0 times 0(ms) (sync_local) with same client (suspend,resume,force,alter,requeue)
 client cmds:         0 times 0(ms) (auto_sync ) with same client (suspend,resume,force,alter,requeue)
 Delete:              0ms


+ bin/ecflow_client --load /var/tmp/ma0/BIG_DEFS/vsms2.31415.def stats
Definition statistics
Nodes               457888
Suites              37
Family              195527
Task                262323
Alias               1

Edit history nodes  67727
Edit history paths  255692

vars                933908
triggers            63356
complete triggers   2044
events              54876
labels              99237
meters              9703

times               321
todays              3
crons               33
dates               5
days                0

late                15127
inlimits            89267
limits              1232
repeats             219
zombies             29

auto_cancel         0
auto_archive        0
auto_restore        0
verifys             0
queues              0
generics            0
+ bin/ecflow_client --load /var/tmp/ma0/BIG_DEFS/3199.def stats
Definition statistics
Nodes               320829
Suites              18
Family              105374
Task                215437
Alias               0

Edit history nodes  0
Edit history paths  0

vars                885532
triggers            88812
complete triggers   551
events              35477
labels              46714
meters              14994

times               245
todays              0
crons               0
dates               0
days                0

late                41023
inlimits            52376
limits              635
repeats             90
zombies             0

auto_cancel         0
auto_archive        0
auto_restore        0
verifys             0
queues              0
generics            0