# 5.0.0
defs_state MIGRATE
edit ECF_MICRO '%' # server
edit ECF_HOME '.' # server
edit ECF_JOB_CMD '%ECF_JOB% 1> %ECF_JOBOUT% 2>&1' # server
edit ECF_KILL_CMD 'kill -15 %ECF_RID%' # server
edit ECF_STATUS_CMD 'ps --pid %ECF_RID% -f > %ECF_JOB%.stat 2>&1' # server
edit ECF_URL_CMD '${BROWSER:=firefox} -remote 'openURL(%ECF_URL_BASE%/%ECF_URL%)'' # server
edit ECF_URL_BASE 'https://software.ecmwf.int' # server
edit ECF_URL 'wiki/display/ECFLOW/Home' # server
edit ECF_LOG 'eurydice.3141.ecf.log' # server
edit ECF_INTERVAL '60' # server
edit ECF_LISTS 'eurydice.3141.ecf.lists' # server
edit ECF_PASSWD 'eurydice.3141.ecf.passwd' # server
edit ECF_CHECK 'eurydice.3141.ecf.check' # server
edit ECF_CHECKOLD 'eurydice.3141.ecf.check.b' # server
edit ECF_CHECKINTERVAL '120' # server
edit ECF_CHECKMODE 'CHECK_ON_TIME' # server
edit ECF_TRIES '2' # server
edit ECF_VERSION '5.0.0' # server
edit ECF_PORT '3141' # server
edit ECF_HOST 'localhost' # server
suite suiteName
edit VAR 'value'
edit VAR1 '"value"'
edit ECF_FETCH '"smsfetch -F %ECF_FILES% -I %ECF_INCLUDE%"'
limit suiteLimit 10
limit suiteLimit2 10
cron -w 0,1,2,3,4,5,6 -d 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31 -m 1,2,3,4,5,6,7,8,9,10,11,12 00:00 10:00 00:05
autocancel 2
queue queue 000 001 002 # 0 queued queued queued
queue queue1 000 001 002 # 0 queued queued queued
generic gen1 000 001 002
generic gen2 000 001 002
clock real 1.1.2009 +3600 -s
calendar initTime:2018-Aug-20 12:19:33 suiteTime:2018-Aug-20 12:19:33 duration:00:00:00 initLocalTime:2018-Aug-20 12:19:33 lastTime:2018-Aug-20 12:19:33 calendarIncrement:00:01:00
task t1
task t2
task t3
complete t1 == complete
complete -a t2 == complete
trigger t1 == complete
trigger -o t2 == complete
zombie user:fob:init,event,meter,label,wait,queue,abort,complete:60
zombie path:block:init,event,meter,label,wait,queue,abort,complete:100
zombie ecf:fail:init,event,meter,label,wait,queue,abort,complete:100
zombie ecf_pid:fail:init,event,meter,label,wait,queue,abort,complete:100
zombie ecf_passwd:fail:init,event,meter,label,wait,queue,abort,complete:100
zombie ecf_pid_passwd:fail:init,event,meter,label,wait,queue,abort,complete:100
task t4
zombie user:adopt:init,event,meter,label,wait,queue,abort,complete:60
zombie path:block:init,event,meter,label,wait,queue,abort,complete:100
zombie ecf:remove:init,event,meter,label,wait,queue,abort,complete:100
zombie ecf_pid:kill:init,event,meter,label,wait,queue,abort,complete:100
zombie ecf_passwd:fob:init,event,meter,label,wait,queue,abort,complete:100
zombie ecf_pid_passwd:block:init,event,meter,label,wait,queue,abort,complete:100
task t5
repeat enumerated AEnum "10" "20" "30"
task t6
repeat string aString "10" "20" "30"
task t7
repeat integer rep 0 100
task t8
repeat date YMD 20090916 20090916 1
task t9
repeat day 2
family f1
autoarchive +01:00
endfamily
family f2
autoarchive +05:22
endfamily
family f3
autoarchive 4
endfamily
family f4
autoarchive 0
endfamily
family familyName
late -s +03:12 -a 03:12 -c +04:12
repeat enumerated AEnum "10" "20" "30"
edit VAR 'value'
limit limitName 20
inlimit -n /suiteName:suiteLimit2 2
time +00:00 10:01 00:01
date *.*.2009
autocancel +01:00
queue queue1 000 001 002 # 0 queued queued queued
generic gen1 000 001 002
task taskName # alias_no:2
defstatus complete
late -s +03:12 -a 03:12 -c +04:12
edit VAR1 '"value"'
inlimit /suiteName:suiteLimit
label labelName ""labelValue""
meter myMeter 0 100 100
event 0 
event 1 eventName
time +10:10
today 10:12
today +00:01 00:03 00:01
date 1.2.2009
day monday
autorestore /EmptySuite
verify complete:3 # 0
queue queue1 000 001 002 # 0 queued queued queued
generic gen1 000 001 002
generic gen2
alias alias0 # state:queued
label labelName ""labelValue""
meter myMeter 0 100 100
event 0 
event 1 eventName
alias alias1 # state:queued
label labelName ""labelValue""
meter myMeter 0 100 100
event 0 
event 1 eventName
endalias
family heir_familyName
repeat string aString "10" "20" "30"
edit VAR1 'value'
autoarchive +01:00
task taskName
edit VAR1 'value'
meter myMeter 0 100 100
event 0 
event 1 eventName
autocancel 00:01
endfamily
endfamily
family familyName1
late -s +03:12 -a 03:12 -c +04:12
repeat enumerated AEnum "10" "20" "30"
edit VAR 'value'
limit limitName 20
inlimit -n /suiteName:suiteLimit2 2
time +00:00 10:01 00:01
date *.*.2009
autocancel +01:00
queue queue1 000 001 002 # 0 queued queued queued
generic gen1 000 001 002
task taskName1 # alias_no:2
defstatus complete
late -s +03:12 -a 03:12 -c +04:12
edit VAR1 '"value"'
inlimit /suiteName:suiteLimit
label labelName1 ""labelValue""
meter myMeter 0 100 100
event 1 
event 2 eventName
time +10:10
today 10:12
today +00:01 00:03 00:01
date 1.2.2009
day monday
autorestore /EmptySuite
verify complete:3 # 0
queue queue1 000 001 002 # 0 queued queued queued
generic gen1 000 001 002
generic gen2
alias alias0 # state:queued
label labelName1 ""labelValue""
meter myMeter 0 100 100
event 1 
event 2 eventName
alias alias1 # state:queued
label labelName1 ""labelValue""
meter myMeter 0 100 100
event 1 
event 2 eventName
endalias
endfamily
family familyName2
late -s +03:12 -a 03:12 -c +04:12
repeat enumerated AEnum "10" "20" "30"
edit VAR 'value'
limit limitName 20
inlimit -n /suiteName:suiteLimit2 2
time +00:00 10:01 00:01
date *.*.2009
autocancel +01:00
queue queue1 000 001 002 # 0 queued queued queued
generic gen1 000 001 002
task taskName2 # alias_no:2
defstatus complete
late -s +03:12 -a 03:12 -c +04:12
complete ../familyName1/taskName1:myMeter ge 10
trigger ../familyName1/taskName1 == complete
edit VAR1 '"value"'
inlimit /suiteName:suiteLimit
label labelName2 ""labelValue""
meter myMeter 0 100 100
event 2 
event 3 eventName
time +10:10
today 10:12
today +00:01 00:03 00:01
date 1.2.2009
day monday
autorestore /EmptySuite
verify complete:3 # 0
queue queue1 000 001 002 # 0 queued queued queued
generic gen1 000 001 002
generic gen2
alias alias0 # state:queued
label labelName2 ""labelValue""
meter myMeter 0 100 100
event 2 
event 3 eventName
alias alias1 # state:queued
label labelName2 ""labelValue""
meter myMeter 0 100 100
event 2 
event 3 eventName
endalias
endfamily
endsuite
suite EmptySuite
calendar initTime:2018-Aug-20 12:19:33 suiteTime:2018-Aug-20 12:19:33 duration:00:00:00 initLocalTime:2018-Aug-20 12:19:33 lastTime:2018-Aug-20 12:19:33 calendarIncrement:00:01:00
endsuite
# enddef
